<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="spring_test.dao.PropertyDao">
	 <resultMap id="propertyResult" type="spring_test.entity.Property">
		<result property="id" column="id" />
		<result property="card1" column="card1" />
		<result property="card2" column="card2" />
		<result property="card3" column="card3" />
		<result property="card4" column="card4" />
		<result property="card5" column="card5" />
		<result property="card6" column="card6" />
		<result property="cash" column="cash" />
		<result property="housingFund" column="housingFund" />
		<result property="alipay" column="alipay" />
		<result property="holderName" column="holderName" />
		<result property="antloan" column="antloan" />
		<result property="creditCard" column="creditCard" />
		<result property="rent" column="rent" />
		<result property="mortgage" column="mortgage" />
		<result property="loan2" column="loan2" />
		<result property="loan1" column="loan1" />
		<result property="remark" column="remark" />
	</resultMap>
	
	<insert id="save" parameterType="spring_test.entity.Property">  
		<selectKey resultType="java.lang.String" order="BEFORE" keyProperty="id" > 
              select SEQ_CARDS_ID.nextval from dual 
       </selectKey>    
	    INSERT INTO property
	    <trim prefix="(" suffix=")" suffixOverrides="," >
       				 ID,updateTime,HOLDERNAME,
		    <if test="bankName != null" >bankName,</if>
		    <if test="accountNumber != null" >accountNumber,</if>
		    <if test="balance != null" >balance,</if>
		    <if test="location != null" >location,</if>
		    <if test="remark != null" >remark,</if>
		    <if test="password != null" >password,</if>
		    <if test="reserveField1 != null" >reserveField1,</if>
		    <if test="reserveField2 != null" >reserveField2,</if>
	  </trim>
	  <trim prefix="values (" suffix=")" suffixOverrides="," >
     			 #{id,jdbcType=DECIMAL},#{updateTime},#{holderName},
     	    <if test="bankName != null">#{bankName},</if>
		    <if test="accountNumber != null">#{accountNumber},</if>
		    <if test="balance != null">#{balance},</if>
		    <if test="location != null">#{location},</if>
		    <if test="remark != null">#{remark},</if>
		    <if test="password != null">#{password},</if>
		    <if test="reserveField1 != null">#{reserveField1},</if>
		    <if test="reserveField2 != null">#{reserveField2},</if>
     </trim> 
	</insert>
	
	<update id="update" parameterType="spring_test.entity.Property">
		update property set updateTime=#{updateTime}
			 <if test="bankName !=null ">,bankName=#{bankName}</if> 
	   		 <if test="accountNumber !=null ">,accountNumber=#{accountNumber}</if> 
			 <if test="balance !=null ">,balance=#{balance}</if> 
			 <if test="location !=null ">,location=#{location}</if> 
			 <if test="remark !=null ">,remark=#{remark}</if> 
			 <if test="password !=null ">,password=#{password}</if> 
			 <if test="reserveField1 !=null ">,reserveField1=#{reserveField1}</if> 
			 <if test="reserveField2 !=null ">,reserveField2=#{reserveField2}</if> 
   		  where id=#{id}
	</update>
	
    <select id="getAllPropertyInfoByHoldername" parameterType="java.lang.String" resultMap="propertyResult">
   		select * from property where holdername=#{holdername} order by id
    </select>
    
    <select id="findById" parameterType="java.lang.String" resultMap="propertyResult">
    	 select * from property where id=#{id}
    </select>
    
    <delete id="deleteById" parameterType="java.lang.String">
    	 delete from property where id in
	        <foreach item="id" collection="array" open="(" separator="," close=")">
				#{id}
			</foreach>
    </delete> 
</mapper>